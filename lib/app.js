(function(){var t,e,n,r,i,o,u,a,s,c,l,h,p,f,d,g,v,m,w,b,y,x,S,B,N,k;b={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:10,K:20,L:30,M:40,N:50,O:60,P:70,Q:80,R:90,S:100,T:200,U:300,V:400,W:500,X:600,Y:700,Z:800},l=function(t){var e,n;return e=t.replace(/[^a-zA-Z ]/g,"").toUpperCase().split("").filter(function(t){return!(" "===t)}),n=[],e.forEach(function(t){return n.push(b[t])}),n.reduce(function(t,e){return t+e})},h=function(t){var e,n;for(e=t.toString().split("").map(function(t){return+t});e.length>1;)n=e,n=n.reduce(function(t,e){return t+e}),e=n.toString().split("").map(function(t){return+t});for(;e[0]<3;)e[0]=e[0]+1;return e[0]},c=function(t){var e,n;return e=t.replace(/[^a-zA-Z ]/g,"").toUpperCase().split("").filter(function(t){return!(" "===t)}),n=[],e.forEach(function(t){if(!n.includes(t))return n.push(t)}),n},r=function(t){var e;return e={BaseChars:c(t),NumVal:l(t),SeedNum:h(l(t))}},v=function(t,e){var n,r,i,u,a,s;for(s=[],u=o(e),a=t.join("").toUpperCase().split(""),r=0,i=a.length;r<i;r++)n=a[r],s.push(u.filter(function(t){return t===b[n]?b[n]:t===b[n]/10?b[n]/10:t===b[n]/100?b[n]/100:void 0})[0]);return s},S=[[4,9,2],[3,5,7],[8,1,6]],p=[[4,14,15,1],[9,7,6,12],[5,11,10,8],[16,2,3,13]],g=[[11,24,7,20,3],[4,12,25,8,16],[17,5,13,21,9],[10,18,1,14,22],[23,6,19,2,15]],B=[[6,32,3,34,35,1],[7,11,27,28,8,30],[19,14,16,15,23,24],[18,20,22,21,17,13],[25,29,10,9,26,12],[36,5,33,4,2,31]],k=[[22,47,16,41,10,35,4],[5,23,48,17,42,11,29],[30,6,24,49,18,36,12],[13,31,7,25,43,19,37],[38,14,32,26,44,20],[21,39,8,33,2,27,45],[46,15,40,9,34,3,28]],m=[[8,58,59,5,4,62,63,1],[49,15,14,52,53,11,10,56],[41,23,22,44,45,19,18,48],[32,34,35,29,28,38,39,25],[40,26,27,37,36,30,31,33],[17,47,46,20,21,43,42,24],[9,55,54,12,13,51,50,16],[64,2,3,61,60,6,7,57]],d=[[37,78,29,70,21,62,13,54,5],[6,38,79,30,71,22,63,14,46],[47,7,39,80,31,72,23,55,15],[16,48,8,40,81,32,64,24,56],[57,17,49,9,41,73,33,65,25],[26,58,18,50,1,42,74,34,66],[67,27,59,10,51,2,43,75,35],[36,68,19,60,11,52,3,44,76],[77,28,69,20,61,12,53,4,45]],f={3:S,4:p,5:g,6:B,7:k,8:m,9:d},o=function(t){return[].concat.apply([],t)},u=function(t,e,n,r){var i,o,u,a,s,c,l;for(a=0,o=0,u=0,c=[],i={};e>a;){for(s=[],l=0,o=0;e>l;)s.push(t.rect(o,u,n/e,r/e)),s[l].attr({"stroke-width":3,fill:"lightgray"}),i=s[l].getBBox(),o+=i.width,l++;c.push(s),u+=i.height,a++}return c},s=function(t){var e,n,r,i,o,u,a,s;for(u=[],n=0,i=t.length;n<i;n++){for(a=t[n],s=[],r=0,o=a.length;r<o;r++)e=a[r],s.push(e.getBBox());u.push(s)}return u},n=function(t,e,n){var r,i,o,u,a,s;for(u=[],i=0;e.length>i;){for(a=[],s=0;e.length>s;)r=e[i][s],o=n[i][s],a.push(t.text(r.cx,r.cy,o+"").attr({fill:"black","font-size":20})),s++;u.push(a),i++}return u},y=function(t,e,r){var i,o,a,c;return e<3?console.error("Select Number between 3 to 9"):e>9?console.error("Select Number between 3 to 9"):(o=Raphael(t,r,r),a=u(t,e,r,r),i=s(a),c=n(t,i,f[e]),{canvas:o,grid:a,bboxes:i,numbers:c})},i=function(t,e){var n,r,i,u,a,s,c,l,h;for(h=[],l=[],a=o(e),n=0,i=t.length;n<i;n++)s=t[n],h.push(a.filter(function(t){if(t.attrs.text===s+"")return t})[0]);for(r=0,u=h.length;r<u;r++)c=h[r],l.push({x:c.getBBox().cx,y:c.getBBox().cy});return l},a=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],e===t[0]?i.push("M"+e.x+","+e.y):i.push("L"+e.x+","+e.y);return i.join(" ")},x=function(t,e){return t.path(e).attr({"stroke-width":3,stroke:"white"})},N={},N.main=function(){return"<div class='w3-container w3-light-grey' style='height:100%'>\n\n\t<div class='w3-container w3-rest'>\n\t\t<h1>Sigil Pal</h1>\n\t\t<h3>automated Statement of intent processor</h3>\n\t</div>\n\t\n\t<div class='w3-container w3-third'>\n\t\t<textarea type='text' id='soi' placeholder='type your intent here' style='resize:none;width:100%;height:100%'></textarea>\n\t\t<br />\n\t\t<button id='process' class='w3-btn-block'>Process Statement of Intent</button>\n\t</div>\n\t\n\t<div class='w3-container w3-rest'>\n\t\t<div id='result'></div>\n\t\t<div id='sigil'></div>\n\t\t<br />\n\t\t<p>To find more info on the process of</p>\n\t\t<p>sigilization and magick in general</p>\n\t\t<p>go <a href='http://www.excommunicate.com/basics-in-sigil-creation-or-the-only-magic-guaranteed-to-work/#axzz4Ej3q2KlR'>here</a> or <a href='http://www.chaosmatrix.org/library/chaos_all.php'>here</a> for more detailed information.</p>\n\t</div> \n\t<div class='w3-container w3-rest'>\n\t\t<h4><a href='https://github.com/theblacksquid'>@theblacksquid</a> 2016</h4>\n\t</div>\n</div>"},N.result=function(t){return"<div>\n\t<h3>"+$("#soi").val()+"</h3>\n\t<p>Base Letters: "+t.BaseChars+"</p>\n\t<p>Numeric Value: "+t.NumVal+"</p>\n\t<p>Seed Number: "+t.SeedNum+"</p>\n</div>"},e=function(){function t(t,e){this.el=t,this.input=e}return t.prototype.render=function(){var t,e,n,r,o,u,s;return $("#sigil").html(""),e=document.querySelector("#sigil"),s=350,o=Raphael(e,s,s),n=y(o,this.input.SeedNum,s),r=v(this.input.BaseChars,f[this.input.SeedNum]),console.log(r),t=i(r,n.numbers),u=a(t),x(o,u)},t}(),t=function(){function t(t){this.el=t}return t.prototype.render=function(){return $(this.el).html(N.main()),this.resultView()},t.prototype.resultView=function(){return $("#process").click(function(){var t,n,i;return i=$("#soi").val(),t=r(i),n=new e("#sigil",t),$("#result").html(N.result(t)),n.render()})},t}(),w=new t("#app"),w.render()}).call(this);
